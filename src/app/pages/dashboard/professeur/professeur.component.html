
<div class="navbar">
  <div class="navbar-left">
    <button (click)="onDashboard()" class="nav-btn">Dashboard</button>
    <button (click)="onClasses()" class="nav-btn">Gestion des Classes</button>
    <button (click)="onSubject()" class="nav-btn">Gestion des Sujets</button>
    <button (click)="onClassDetails()" class="nav-btn">Gestion des Correction</button>
    <button (click)="onReviews()" class="nav-btn">Modéle IA</button>
  </div>
  <div class="navbar-right">
    <button (click)="onHome()"><span class="app-name">Deconnexion</span></button>
  </div>
</div>


<div class="dashboard-container">

<div *ngIf="user">

  <h1>Bienvenue, {{ user.displayName }} !</h1>
  <p>Email : {{ user.email }}</p>
  
  <h2>Tableau de bord Professeur</h2>

  <label for="selectedExamId">Sélectionner un examen</label>
  <select id="selectedExamId" [(ngModel)]="selectedExamId" name="selectedExamId" required (change)="loadSubmissions()">
    <option *ngFor="let exam of exams" [value]="exam.id">{{ exam.title }}</option>
  </select>

  <div *ngIf="submissions.length > 0">
    <h3>Soumissions pour l'examen</h3>
    <table>
      <thead>
        <tr>
          <th>Nom de l'étudiant</th>
          <th>Fichier soumis</th>
          <th>Note</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let submission of submissions">
          <td>{{ submission.student_id }}</td>
          <td><a [href]="submission.file_url" target="_blank">Voir le fichier</a></td>
          <td>{{ submission.grade || 'Non notée' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


